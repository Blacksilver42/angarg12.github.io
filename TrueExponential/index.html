<!DOCTYPE html>
<script type="text/javascript" src="js/angular.min.js"></script>
<script type="text/javascript" src="js/exponential.js"></script>
<script type="text/javascript" src="js/decimal.min.js"></script>
<link rel="stylesheet" type="text/css" href="styles/main.css">
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-58136427-1', 'auto');
    ga('send', 'pageview');
</script>
<body ng-app="incremental">
    <div ng-controller="IncCtrl">
        <h1>True<sup>xponential</sup></h1>
        <a href="#game">Game</a> |
        <a href="#options">Options</a>
        <div id="game">
            <h2>Cash: <span style="font-family:Courier New, Courier, monospace">$<span ng-bind-html="trustedPrettifyNumber(player.currency)"/></span></h2>
            <h2>Cash multiplier: {{(player.multiplier).toFixed(4)}}</h2>
            <h2>Goal<sup ng-if="player.prestige > 0">{{player.prestige}}</sup>: <span ng-bind-html="trustedPrettifyNumber(prestigeGoal[player.prestige])"/></h2>
            <div class="progress-striped" style="margin-bottom:0;width:80%;">
				<div ng-if="!player.sprintFinished">
					<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="0" style="width:{{player.currency.div(prestigeGoal[player.prestige])*100}}%" ng-if="!logscale">
						{{Math.max(Math.floor((player.currency.div(prestigeGoal[player.prestige]))*1000)/10,0)}}%
					</div>
					<div class="progress-bar-log" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="0" style="width:{{player.currency.ln().div(prestigeGoal[player.prestige].ln())*100}}%" ng-if="logscale">
						{{Math.max(Math.floor((player.currency.ln().div(prestigeGoal[player.prestige].ln()))*1000)/10,0)}}%
					</div>
				</div>
				<div ng-if="player.sprintFinished">
					<div class="progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="0" style="width:100%">
						100%
					</div>
				</div>
            </div>				 
            <hr>
            <button ng-click="click()">Generate cash ${{player.cashPerClick.toString()}}</button>  
            <h3>Multiplier upgrades</h3>
            <div ng-repeat="upgrade in multiplierUpgradePower">
                <button ng-click="buyMultiplierUpgrade($index)" ng-disabled="player.currency.comparedTo(player.multiplierUpgradePrice[{{$index}}]) < 0">+{{multiplierUpgradePower[$index]}}</button>&nbsp;$<span ng-bind-html="trustedPrettifyNumber(player.multiplierUpgradePrice[$index])"/>
                <br>
            </div>
            <h3 ng-if="clickUpgradePower.length > 0">Click power upgrades</h3>
            <div ng-repeat="upgrade in clickUpgradePower">
                <button ng-click="buyClickUpgrade($index)" ng-disabled="player.multiplier.comparedTo(player.clickUpgradePrice[$index]) < 0">+{{clickUpgradePower[$index].toString()}} (cost {{player.clickUpgradePrice[$index]}} multiplier)</button>
                <br>
            </div>
            <hr>
        </div>
        <div id="options">
            <h2>Options</h2>
            <table id="optionTable">
                <tr ng-if="player.sprintFinished && prestigeGoal.length > player.prestige+1">
                    <td>
                        <button id="prestige" ng-click="prestige()">Prestige</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button id="reset" ng-click="reset(true)">Reset Save</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button id="save" ng-click="save()">Save</button>
                    <td>Last save time: {{lastSave}}</td>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button id="exportSave" ng-click="exportSave()">Export Save</button>
                    <td id="exportSaveContents" style="display: none">
                        Copy this text:
                        <input id="exportSaveText" type="text" readonly>
                    </td>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button id="importSave" ng-click="importSave()">Import Save</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        Use log scale for progress bar <input type="checkbox" ng-model="logscale" ng-click="updatePreferences('logscale')">
                    </td>
                </tr>
            </table>
        </div>
        <p><small>By angarg12 GPLv2 | Version {{version}} | <a href="changelog.txt" target="_newtab">Changelog</a> | <a href="https://github.com/angarg12/TrueExponential" target="_newtab">Github</a></small></p>
    </div>
</body>