<!DOCTYPE html PUBLIC"-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<script type="text/javascript" src="js/angular.min.js"></script>
<script type="text/javascript" src="js/exponential.js"></script>
<script type="text/javascript" src="js/decimal.min.js"></script>
<link rel="stylesheet" type="text/css" href="styles/main.css">
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-58136427-1', 'auto');
    ga('send', 'pageview');
</script>
<body ng-app="incremental">
    <div ng-controller="IncCtrl">
        <h1>True<sup>xponential</sup></h1>
        <a href="#game">Game</a> |
        <a href="#options">Options</a>
        <div id="game">
            <h2>Cash: <span style="font-family:Courier New, Courier, monospace">$<span ng-bind-html="trustedPrettifyNumber(player.currency)"/></span></h2>
            <h2>Cash multiplier: {{(player.multiplier).toFixed(4)}}</h2>
            <h2>Time: {{getSprintTime()}}</h2>
            <h2>Goal<sup ng-if="currentPrestige > 0">{{currentPrestige}}</sup>: <span ng-bind-html="trustedPrettifyNumber(prestigeGoal[currentPrestige])"/></h2>
            <div class="progress-striped" style="margin-bottom:0;width:80%;">
				<div ng-if="!sprintFinished">
					<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="0" style="width:{{player.currency.div(prestigeGoal[currentPrestige])*100}}%" ng-if="!logscale">
						{{Math.max(Math.floor((player.currency.div(prestigeGoal[currentPrestige]))*1000)/10,0)}}%
					</div>
					<div class="progress-bar-log" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="0" style="width:{{player.currency.ln().div(prestigeGoal[currentPrestige].ln())*100}}%" ng-if="logscale">
						{{Math.max(Math.floor((player.currency.ln().div(prestigeGoal[currentPrestige].ln()))*1000)/10,0)}}%
					</div>
				</div>
				<div ng-if="sprintFinished">
					<div class="progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="0" style="width:100%">
						100%
					</div>
				</div>
            </div>				 
            <hr>
            <button ng-click="click()">Cash*${{player.clickMultiplier.toString()}}</button>  
            <h3>Multiplier upgrades</h3>
            <div ng-repeat="upgrade in multiplierUpgradePower">
                <button ng-click="buyMultiplierUpgrade($index)" ng-disabled="player.currency.comparedTo(player.multiplierUpgradePrice[{{$index}}]) < 0">+{{multiplierUpgradePower[$index]}}</button>&nbsp;$<span ng-bind-html="trustedPrettifyNumber(player.multiplierUpgradePrice[$index])"/>
                <br>
            </div>
            <hr>
        </div>
		<div id="sprints" ng-if="player.maxPrestige > 0">
            <h2>Sprints</h2>
            <table id="sprintsTable">
                <tr>
                    <td>
                        Sprint
                    </td>
                    <td>
                        Best time
                    </td>
                </tr>
				<tr ng-repeat="sprint in player.sprintTimes track by $index">
					<td>
						{{$index}}
					</td>
					<td>
						{{formatTime(sprint)}}
					</td>
					<td>
						<button id="retry" ng-click="prestige($index)">Retry</button>
					</td>
				</tr>
            </table>
            <hr>
        </div>
        <div id="options">
            <h2>Options</h2>
            <table id="optionTable">
                <tr ng-if="player.sprintTimes.length > currentPrestige && currentPrestige < prestigeGoal.length-1">
                    <td>
                        <button id="prestige" ng-click="prestige(currentPrestige+1)">Prestige</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button id="reset" ng-click="reset(true)">Reset Save</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button id="save" ng-click="save()">Save</button>
                    <td>Last save time: {{lastSave}}</td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Use log scale for progress bar <input type="checkbox" ng-model="logscale" ng-click="updatePreferences('logscale')">
                    </td>
                </tr>
            </table>
        </div>
        <p><small>By angarg12 GPLv2 | Version {{version}} | <a href="changelog.txt" target="_newtab">Changelog</a> | <a href="https://github.com/angarg12/TrueExponential" target="_newtab">Github</a></small></p>
    </div>
</body>